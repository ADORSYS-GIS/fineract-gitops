# ==============================================================================
# Service Account Patch for GCP Workload Identity
# ==============================================================================
# This patch adds the Workload Identity annotation to the Kubernetes
# ServiceAccount, allowing pods to authenticate as a GCP service account.
#
# Replace ${GCP_SERVICE_ACCOUNT_EMAIL} with your actual service account email:
#   fineract-dev@fineract-dev-project.iam.gserviceaccount.com
# ==============================================================================
apiVersion: v1
kind: ServiceAccount
metadata:
  name: fineract-gcp
  annotations:
    # Workload Identity annotation
    # Format: SERVICE_ACCOUNT_NAME@PROJECT_ID.iam.gserviceaccount.com
    iam.gke.io/gcp-service-account: "${GCP_SERVICE_ACCOUNT_EMAIL}"
