{
  "permissions": {
    "allow": [
      "Bash(terraform output:*)",
      "Bash(find:*)",
      "Bash(aws eks list-clusters:*)",
      "Bash(make validate-prereqs:*)",
      "Bash(cat:*)",
      "Bash(make deploy-infrastructure-dev:*)",
      "Bash(aws s3 ls:*)",
      "Bash(aws sts get-caller-identity:*)",
      "Bash(./scripts/setup-terraform-backend.sh:*)",
      "Bash(terraform plan:*)",
      "Bash(terraform apply:*)",
      "Bash(terraform import module.s3.aws_s3_bucket.documents apache-fineract-dev-dev-fineract-documents)",
      "Bash(terraform import:*)",
      "Bash(aws eks update-kubeconfig:*)",
      "Bash(kubectl get:*)",
      "Bash(make deploy-k8s-with-loadbalancer-dns-dev:*)",
      "Bash(./scripts/setup-eks-kubeconfig.sh:*)",
      "Bash(export KUBECONFIG=~/.kube/config-fineract-dev:*)",
      "Bash(./scripts/deploy-k8s-with-loadbalancer-dns.sh:*)",
      "Bash(export KUBECONFIG=~/.kube/config)",
      "Bash(kubeseal:*)",
      "Bash(./scripts/seal-terraform-secrets.sh:*)",
      "Bash(./scripts/create-complete-sealed-secrets.sh:*)",
      "Bash(./scripts/seal-argocd-ssh-credentials.sh:*)",
      "Bash(kubectl create:*)",
      "Bash(kubectl apply:*)",
      "Bash(kubectl config:*)",
      "Bash(kubectl rollout restart:*)",
      "Bash(kubectl rollout:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(kubectl describe:*)",
      "Bash(kubectl logs:*)",
      "WebSearch",
      "WebFetch(domain:oauth2-proxy.github.io)",
      "Bash(kubectl delete:*)",
      "Bash(kubectl patch:*)",
      "Bash(kubectl annotate:*)",
      "Bash(kubectl scale:*)",
      "Bash(kubectl exec:*)",
      "Bash(unset AWS_PROFILE)",
      "Bash(CORRECT_HOST=\"a07aeb697903842c88211f203f81bd30-ba97476a7e017252.elb.eu-central-1.amazonaws.com\":*)",
      "Bash(for INGRESS in fineract-oauth2-protected fineract-oauth2-protected-write-canary fineract-oauth2-public fineract-public-ingress fineract-web-app-protected keycloak-ingress user-sync-service-ingress)",
      "Bash(do echo \"Patching $INGRESS...\")",
      "Bash(done)",
      "Bash(for INGRESS in fineract-oauth2-protected fineract-oauth2-protected-write-canary fineract-web-app-protected user-sync-service-ingress)",
      "Bash(do echo \"Patching auth-signin for $INGRESS...\")",
      "Bash(for INGRESS in fineract-oauth2-protected fineract-oauth2-protected-write-canary fineract-public-ingress fineract-web-app-protected)",
      "Bash(do echo \"Patching CORS for $INGRESS...\")",
      "Bash(do kubectl patch ingress \"$INGRESS\" -n fineract-dev --type='json' -p='[{\"\"op\"\": \"\"replace\"\", \"\"path\"\": \"\"/spec/rules/0/host\"\", \"\"value\"\": \"\"'$CORRECT_HOST'\"\"},{\"\"op\"\": \"\"replace\"\", \"\"path\"\": \"\"/spec/tls/0/hosts/0\"\", \"\"value\"\": \"\"'$CORRECT_HOST'\"\"}]')",
      "Bash(do kubectl annotate ingress \"$INGRESS\" -n fineract-dev nginx.ingress.kubernetes.io/auth-signin=\"https://$CORRECT_HOST/oauth2/start?rd=$escaped_request_uri\" --overwrite)",
      "Bash(do kubectl annotate ingress \"$INGRESS\" -n fineract-dev nginx.ingress.kubernetes.io/cors-allow-origin=\"https://$CORRECT_HOST\" --overwrite)",
      "Bash(git fetch:*)",
      "Bash(git pull:*)",
      "Bash(git stash:*)",
      "Bash(while read file)",
      "Bash(do sed -i '' 's/ae236f3783cac47928b7559158f6f5c4-5941149f506864a2/a07aeb697903842c88211f203f81bd30-ba97476a7e017252/g' \"$file\" echo \"Updated: $file\" done)",
      "Bash(kubectl run:*)",
      "Bash(python3:*)",
      "Bash(curl:*)",
      "Bash(argocd app sync:*)",
      "Bash(for app in fineract-dev-cashier-app fineract-dev-account-manager-app fineract-dev-accounting-app fineract-dev-branch-manager-app fineract-dev-reporting-app)",
      "Bash(do kubectl patch application $app -n argocd --type json -p='[{\"\"op\"\": \"\"replace\"\", \"\"path\"\": \"\"/operation\"\", \"\"value\"\": {\"\"initiatedBy\"\": {\"\"username\"\": \"\"admin\"\"}, \"\"sync\"\": {\"\"revision\"\": \"\"HEAD\"\"}}}]')",
      "Bash(for app in fineract-dev-admin-app fineract-dev-account-manager-app fineract-dev-branch-manager-app fineract-dev-reporting-app)",
      "Bash(do)",
      "Bash(for app in fineract-dev-admin-app fineract-dev-account-manager-app fineract-dev-branch-manager-app fineract-dev-reporting-app fineract-dev-cashier-app)",
      "Bash(xargs kubectl exec -n ingress-nginx -- nginx -s reload)",
      "Bash(grep:*)",
      "Bash(for app in admin-app account-manager-app accounting-app branch-manager-app cashier-app reporting-app web-app)",
      "Bash(for app in admin-app account-manager-app branch-manager-app cashier-app reporting-app web-app)",
      "Bash(git diff:*)",
      "Bash(git checkout:*)",
      "Bash(for app in admin-app account-manager-app branch-manager-app cashier-app reporting-app)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/account-manager-app -n fineract-dev)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/branch-manager-app -n fineract-dev)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/cashier-app -n fineract-dev)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/reporting-app -n fineract-dev)",
      "Bash(__NEW_LINE__ echo \"All apps ready\")",
      "Bash(for app in account-manager-app branch-manager-app cashier-app reporting-app)",
      "Bash(file=\"/Users/guymoyo/dev/fineract-gitops/apps/accounting-app/base/nginx-configmap.yaml\")",
      "Bash(perl -i -pe:*)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/branch-manager-app -n fineract-dev --timeout=120s)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/cashier-app -n fineract-dev --timeout=120s)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/reporting-app -n fineract-dev --timeout=120s)",
      "Bash(__NEW_LINE__ kubectl rollout status deployment/account-manager-app -n fineract-dev --timeout=120s)",
      "Bash(ls:*)",
      "Bash(wc:*)",
      "Bash(xargs kubectl get:*)",
      "Bash(xargs kubectl logs:*)",
      "Bash(kubectl top:*)",
      "Bash(kustomize build:*)",
      "Bash(kubectl kustomize:*)",
      "Bash(kubectl wait:*)",
      "Bash(xargs:*)",
      "Bash(make cleanup-cluster:*)",
      "Bash(export KUBECONFIG=/Users/guymoyo/.kube/config-fineract-dev)",
      "Bash(yes:*)",
      "Bash(./scripts/cleanup-cluster.sh:*)",
      "Bash(./scripts/regenerate-all-sealed-secrets.sh dev)",
      "Bash(aws elb describe-load-balancers:*)",
      "Bash(aws elbv2 describe-load-balancers:*)",
      "Bash(kubectl:*)",
      "WebFetch(domain:github.com)",
      "Bash(git -C /Users/guymoyo/dev/fineract-gitops log --oneline -20 --all)",
      "Bash(git -C /Users/guymoyo/dev/fineract-gitops log --oneline -5 --all -- config/loadbalancer-dns-configmap.yaml)",
      "Bash(git -C /Users/guymoyo/dev/fineract-gitops show e2221bc --stat)",
      "Bash(bash -n:*)",
      "Bash(argocd app get:*)",
      "Bash(argocd app history:*)",
      "Bash(sort:*)",
      "Bash(KUBECONFIG=~/.kube/config-fineract-dev kubectl config current-context:*)",
      "Bash(KUBECONFIG=~/.kube/config-fineract-dev kubectl get:*)",
      "Bash(KUBECONFIG=~/.kube/config-fineract-dev kubectl replace:*)",
      "Bash(export KUBECONFIG=$HOME/.kube/config-fineract-dev:*)",
      "Bash(git show:*)",
      "Bash(# Check all pods in fineract-dev including old ones kubectl get pods -n fineract-dev --kubeconfig ~/.kube/config-fineract-dev)",
      "Bash(# Check node resources kubectl top nodes --kubeconfig ~/.kube/config-fineract-dev || kubectl describe nodes --kubeconfig ~/.kube/config-fineract-dev)",
      "Bash(# Check for multiple ReplicaSets \\(old ones consuming resources\\) kubectl get replicasets -n fineract-dev --kubeconfig ~/.kube/config-fineract-dev)",
      "Bash(echo:*)",
      "Bash(argocd app diff:*)",
      "Bash(timeout 60 head:*)",
      "Bash(tree:*)",
      "Bash(./scripts/auto-update-lb-dns.sh:*)",
      "Bash(RDS_DATABASE=\"\")",
      "Bash(RDS_DATABASE=\"$RDS_DATABASE:-fineract_tenants\")",
      "Bash(aws eks describe-addon:*)",
      "Bash(chmod:*)",
      "Bash(terraform state list:*)"
    ],
    "deny": [],
    "ask": []
  }
}
