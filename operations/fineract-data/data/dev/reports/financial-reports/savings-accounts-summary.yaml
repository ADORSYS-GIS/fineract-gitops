apiVersion: fineract.apache.org/v1
kind: FinancialReport
metadata:
  name: savings-accounts-summary
  labels:
    report-category: financial
spec:
  reportName: Savings Accounts Summary
  reportType: Balance Sheet
  useReport: true
  reportSql: "SELECT\n    p.name as product_name,\n    COUNT(s.id) as account_count,\n\
    \    SUM(s.account_balance_derived) as total_balance,\n    AVG(s.account_balance_derived)\
    \ as avg_balance,\n    SUM(s.total_deposits_derived) as total_deposits,\n    SUM(s.total_withdrawals_derived)\
    \ as total_withdrawals\nFROM m_savings_account s\nJOIN m_savings_product p ON\
    \ s.product_id = p.id\nWHERE s.status_enum = 300\nGROUP BY p.name\nORDER BY total_balance\
    \ DESC"
