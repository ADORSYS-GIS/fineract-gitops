apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: fineract-dev

# Base configuration
resources:
  - ../../base

# Note: Sealed secrets (keycloak-client-secrets) are deployed separately
# via secrets/dev/ and do not need to be included here.
# The apply-fineract-config job references these secrets from the cluster.

# Environment-specific ConfigMap for variables
configMapGenerator:
  - name: fineract-config-vars
    literals:
      - domain=dev.fineract.com
      - auth-hostname=ae236f3783cac47928b7559158f6f5c4-5941149f506864a2.elb.eu-central-1.amazonaws.com

# Environment-specific patches
patchesStrategicMerge:
  - patches/job-config.yaml

# Labels for dev environment
labels:
  - pairs:
      environment: dev
      managed-by: argocd
