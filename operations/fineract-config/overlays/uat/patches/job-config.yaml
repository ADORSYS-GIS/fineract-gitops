apiVersion: batch/v1
kind: Job
metadata:
  name: apply-fineract-config
spec:
  template:
    spec:
      containers:
        - name: fineract-config-cli
          env:
            # UAT environment: balanced settings
            - name: IMPORT_FORCE
              value: "false"
            - name: IMPORT_DRY_RUN
              value: "false"
            - name: LOGGING_LEVEL_ORG_APACHE_FINERACT_CONFIG
              value: "INFO"

            # Mixed managed modes: full for configuration, no-delete for data
            - name: IMPORT_MANAGED_OFFICE
              value: "full"  # Fully manage offices
            - name: IMPORT_MANAGED_ROLE
              value: "full"  # Fully manage roles
            - name: IMPORT_MANAGED_STAFF
              value: "no-delete"
            - name: IMPORT_MANAGED_CLIENT
              value: "no-delete"  # Preserve clients
            - name: IMPORT_MANAGED_LOANPRODUCT
              value: "full"  # Fully manage products
            - name: IMPORT_MANAGED_SAVINGSPRODUCT
              value: "full"
            - name: IMPORT_MANAGED_CHARGE
              value: "full"
            - name: IMPORT_MANAGED_GLACCOUNT
              value: "full"
