apiVersion: v1
kind: ConfigMap
metadata:
  name: asset-service-config
data:
  # Keycloak Configuration
  KEYCLOAK_ISSUER_URI: "http://keycloak-service:8080/realms/fineract"
  KEYCLOAK_JWK_SET_URI: "http://keycloak-service:8080/realms/fineract/protocol/openid-connect/certs"

  # Fineract API Configuration
  FINERACT_URL: "https://fineract-service:8443/fineract-provider"
  FINERACT_TENANT: "default"
  FINERACT_AUTH_TYPE: "oauth"
  FINERACT_TOKEN_URL: "http://keycloak-service:8080/realms/fineract/protocol/openid-connect/token"

  # Redis Configuration
  REDIS_HOST: "redis.fineract.svc.cluster.local"
  REDIS_PORT: "6379"

  # Database Configuration
  SPRING_DATASOURCE_URL: "jdbc:postgresql://asset-service-db:5432/asset_service"
  SPRING_DATASOURCE_USERNAME: "asset_service"

  # Spring Boot Configuration
  SPRING_PROFILES_ACTIVE: "kubernetes"
  SERVER_PORT: "8083"

  # CORS Configuration
  APP_CORS_ALLOWED_ORIGINS: "https://selfservice.fineract.adorsys.team,https://asset-manager.fineract.adorsys.team"

  # Asset Service Configuration
  FEE_COLLECTION_ACCOUNT_ID: "0"  # Must be set per environment to actual Fineract savings account ID
  GL_DIGITAL_ASSET_INVENTORY: "47"
  GL_CUSTOMER_DIGITAL_ASSET_HOLDINGS: "65"
  ASSET_ISSUANCE_PAYMENT_TYPE: "22"

  # Connection Pool Tuning
  SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE: "20"
  SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE: "5"
  SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT: "10000"
  SPRING_DATASOURCE_HIKARI_LEAK_DETECTION_THRESHOLD: "60000"

  # OpenTelemetry Configuration
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.tracing.svc.cluster.local:4317"

  # Logging Configuration
  LOGGING_LEVEL_ROOT: "INFO"
  LOGGING_LEVEL_COM_ADORSYS: "DEBUG"
